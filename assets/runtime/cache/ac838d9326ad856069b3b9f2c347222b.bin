a:2:{i:0;a:3:{s:10:"sourceFile";s:68:"/var/www/html/plansys/modules/dev/forms/settings/DevSettingTheme.php";s:4:"file";a:145:{i:0;s:5:"<?php";i:1;s:0:"";i:2;s:36:"class DevSettingTheme extends Form {";i:3;s:24:"    public $themes = [];";i:4;s:26:"    public $active = null;";i:5;s:4:"    ";i:6;s:28:"    public function init() {";i:7;s:50:"        $this->active = Setting::get('app.theme');";i:8;s:8:"        ";i:9;s:21:"        $themes = [];";i:10;s:55:"        if (is_dir(Yii::getPathOfAlias('app.views'))) {";i:11;s:25:"            $themes[] = [";i:12;s:35:"                'name' => 'Custom',";i:13;s:36:"                'shortname' => null,";i:14;s:58:"                'dir' => Yii::getPathOfAlias('app.views'),";i:15;s:88:"                'img' => Yii::app()->controller->staticUrl('/img/theme-placeholder.png')";i:16;s:14:"            ];";i:17;s:9:"        }";i:18;s:41:"        //cek dlu di app ada themes nggak";i:19;s:8:"        ";i:20;s:66:"        $pstheme = glob(Yii::getPathOfAlias('app.themes') . '/*');";i:21;s:8:"        ";i:22;s:28:"        if(empty($pstheme)){";i:23;s:82:"            $pstheme = glob(Yii::getPathOfAlias('application.themes') . '/*');    ";i:24;s:9:"        }";i:25;s:8:"        ";i:26;s:38:"        foreach ($pstheme as $k=>$p) {";i:27;s:44:"            $p = str_replace("\\", "/", $p);";i:28;s:37:"            $name = explode("/", $p);";i:29;s:31:"            $name = end($name);";i:30;s:83:"            $img = Yii::app()->controller->staticUrl('/img/theme-placeholder.png');";i:31;s:52:"            if (is_file($p .'/views/preview.png')) {";i:32;s:104:"                $img = Yii::app()->request->baseUrl . '/plansys/themes/' . $name . '/views/preview.png';";i:33;s:13:"            }";i:34;s:12:"            ";i:35;s:25:"            $themes[] = [";i:36;s:41:"                'name' => ucfirst($name),";i:37;s:37:"                'shortname' => $name,";i:38;s:38:"                'dir'=> $p . '/views',";i:39;s:30:"                'img' => $img,";i:40;s:14:"            ];";i:41;s:9:"        }";i:42;s:32:"        $this->themes = $themes;";i:43;s:5:"    }";i:44;s:4:"    ";i:45;s:28:"    public function save() {";i:46;s:49:"        Setting::set('app.theme', $this->active);";i:47;s:20:"        return true;";i:48;s:5:"    }";i:49;s:4:"    ";i:50;s:33:"    public function getFields() {";i:51;s:22:"        return array (";i:52;s:19:"            array (";i:53;s:38:"                'linkBar' => array (),";i:54;s:76:"                'title' => '<i class=\\"fa fa-image\\"></i> {{form.title}}',";i:55;s:41:"                'showSectionTab' => 'No',";i:56;s:38:"                'type' => 'ActionBar',";i:57;s:14:"            ),";i:58;s:19:"            array (";i:59;s:33:"                'type' => 'Text',";i:60;s:35:"                'value' => '<style>";i:61;s:13:"    .themes {";i:62;s:24:"        margin:15px 0px;";i:63;s:5:"    }";i:64;s:12:"    .theme {";i:65;s:23:"        cursor:pointer;";i:66;s:20:"        width:140px;";i:67;s:21:"        height:165px;";i:68;s:19:"        float:left;";i:69;s:21:"        padding:10px;";i:70;s:20:"        margin:10px;";i:71;s:19:"        color:#000;";i:72;s:29:"        text-decoration:none;";i:73;s:33:"        border:1px solid #ececeb;";i:74;s:26:"        text-align:center;";i:75;s:5:"    }";i:76;s:18:"    .theme:hover {";i:77;s:29:"        text-decoration:none;";i:78;s:27:"        background:#ececeb;";i:79;s:19:"        color:#000;";i:80;s:5:"    }";i:81;s:16:"    .theme-img {";i:82;s:20:"        width:120px;";i:83;s:21:"        height:120px;";i:84;s:24:"        background:#fff;";i:85;s:26:"        margin-bottom:5px;";i:86;s:24:"        overflow:hidden;";i:87;s:33:"        border:1px solid #ececeb;";i:88;s:5:"    }";i:89;s:4:"    ";i:90;s:19:"    .theme.active {";i:91;s:24:"        background:#666;";i:92;s:19:"        color:#fff;";i:93;s:5:"    }";i:94;s:10:"</style>',";i:95;s:14:"            ),";i:96;s:19:"            array (";i:97;s:40:"                'display' => 'all-line',";i:98;s:33:"                'type' => 'Text',";i:99;s:50:"                'value' => '<div class=\"themes\">";i:100;s:55:"    <a ng-url=\"dev/setting/theme&id={{t.shortname}}\" ";i:101;s:78:"       class=\"theme {{ t.shortname ===  model.active ? \'active\' : \'\'}}\" ";i:102;s:40:"        ng-repeat=\"t in model.themes\">";i:103;s:33:"        <div class=\"theme-img\">";i:104;s:33:"            <img ng-if=\"t.img\" ";i:105;s:39:"                 ng-src=\"{{ t.img }}\"";i:106;s:38:"                 alt=\"{{ t.name }}\">";i:107;s:14:"        </div>";i:108;s:34:"        <div class=\"theme-name\">";i:109;s:24:"            {{ t.name }}";i:110;s:14:"        </div>";i:111;s:8:"    </a>";i:112;s:6:"</div>";i:113;s:32:"<div class=\"clearfix\"></div>',";i:114;s:14:"            ),";i:115;s:10:"        );";i:116;s:5:"    }";i:117;s:0:"";i:118;s:31:"    public function getForm() {";i:119;s:22:"        return array (";i:120;s:39:"            'title' => 'Theme Setting',";i:121;s:31:"            'layout' => array (";i:122;s:35:"                'name' => '2-cols',";i:123;s:33:"                'data' => array (";i:124;s:37:"                    'col1' => array (";i:125;s:40:"                        'size' => '200',";i:126;s:43:"                        'sizetype' => 'px',";i:127;s:41:"                        'type' => 'menu',";i:128;s:41:"                        'name' => 'col1',";i:129;s:74:"                        'file' => 'application.modules.dev.menus.Setting',";i:130;s:47:"                        'icon' => 'fa-sliders',";i:131;s:50:"                        'title' => 'Main Setting',";i:132;s:50:"                        'menuOptions' => array (),";i:133;s:22:"                    ),";i:134;s:37:"                    'col2' => array (";i:135;s:37:"                        'size' => '',";i:136;s:41:"                        'sizetype' => '',";i:137;s:45:"                        'type' => 'mainform',";i:138;s:22:"                    ),";i:139;s:18:"                ),";i:140;s:14:"            ),";i:141;s:10:"        );";i:142;s:5:"    }";i:143;s:0:"";i:144;s:1:"}";}s:7:"methods";a:4:{s:4:"init";a:2:{s:4:"line";i:6;s:6:"length";i:38;}s:4:"save";a:2:{s:4:"line";i:45;s:6:"length";i:4;}s:9:"getFields";a:2:{s:4:"line";i:50;s:6:"length";i:67;}s:7:"getForm";a:2:{s:4:"line";i:118;s:6:"length";i:25;}}}i:1;N;}