a:2:{i:0;a:3:{s:10:"sourceFile";s:63:"/var/www/html/plansys/components/ui/FormFields/DropDownList.php";s:4:"file";a:392:{i:0;s:5:"<?php";i:1;s:0:"";i:2;s:3:"/**";i:3;s:21:" * Class DropDownList";i:4;s:16:" * @author rizky";i:5;s:3:" */";i:6;s:38:"class DropDownList extends FormField {";i:7;s:0:"";i:8;s:7:"    /**";i:9;s:55:"     * @return array me-return array property DropDown.";i:10;s:7:"     */";i:11;s:42:"    public function getFieldProperties() {";i:12;s:22:"        return array (";i:13;s:19:"            array (";i:14;s:40:"                'label' => 'Field Name',";i:15;s:33:"                'name' => 'name',";i:16;s:36:"                'options' => array (";i:17;s:48:"                    'ng-model' => 'active.name',";i:18;s:56:"                    'ng-change' => 'changeActiveName()',";i:19;s:50:"                    'ps-list' => 'modelFieldList',";i:20;s:18:"                ),";i:21;s:35:"                'list' => array (),";i:22;s:38:"                'searchable' => 'Yes',";i:23;s:37:"                'showOther' => 'Yes',";i:24;s:41:"                'type' => 'DropDownList',";i:25;s:14:"            ),";i:26;s:19:"            array (";i:27;s:35:"                'label' => 'Label',";i:28;s:34:"                'name' => 'label',";i:29;s:36:"                'options' => array (";i:30;s:49:"                    'ng-model' => 'active.label',";i:31;s:44:"                    'ng-change' => 'save()',";i:32;s:38:"                    'ng-delay' => 500,";i:33;s:18:"                ),";i:34;s:38:"                'type' => 'TextField',";i:35;s:14:"            ),";i:36;s:19:"            array (";i:37;s:36:"                'label' => 'Layout',";i:38;s:35:"                'name' => 'layout',";i:39;s:36:"                'options' => array (";i:40;s:50:"                    'ng-model' => 'active.layout',";i:41;s:45:"                    'ng-change' => 'save();',";i:42;s:18:"                ),";i:43;s:67:"                'listExpr' => 'array(\'Horizontal\',\'Vertical\')',";i:44;s:36:"                'fieldWidth' => '6',";i:45;s:41:"                'type' => 'DropDownList',";i:46;s:14:"            ),";i:47;s:19:"            array (";i:48;s:43:"                'label' => 'Menu Position',";i:49;s:36:"                'name' => 'menuPos',";i:50;s:36:"                'options' => array (";i:51;s:51:"                    'ng-model' => 'active.menuPos',";i:52;s:45:"                    'ng-change' => 'save();',";i:53;s:18:"                ),";i:54;s:75:"                'listExpr' => '[\'\'=>\'Left\',\'pull-right\'=>\'Right\']',";i:55;s:36:"                'fieldWidth' => '4',";i:56;s:41:"                'type' => 'DropDownList',";i:57;s:14:"            ),";i:58;s:19:"            array (";i:59;s:38:"                'totalColumns' => '4',";i:60;s:36:"                'column1' => array (";i:61;s:27:"                    array (";i:62;s:41:"                        'type' => 'Text',";i:63;s:79:"                        'value' => '<column-placeholder></column-placeholder>',";i:64;s:22:"                    ),";i:65;s:18:"                ),";i:66;s:36:"                'column2' => array (";i:67;s:27:"                    array (";i:68;s:49:"                        'label' => 'Label Width',";i:69;s:47:"                        'name' => 'labelWidth',";i:70;s:47:"                        'layout' => 'Vertical',";i:71;s:45:"                        'labelWidth' => '12',";i:72;s:45:"                        'fieldWidth' => '11',";i:73;s:44:"                        'options' => array (";i:74;s:62:"                            'ng-model' => 'active.labelWidth',";i:75;s:52:"                            'ng-change' => 'save()',";i:76;s:46:"                            'ng-delay' => 500,";i:77;s:77:"                            'ng-disabled' => 'active.layout == \'Vertical\'',";i:78;s:26:"                        ),";i:79;s:46:"                        'type' => 'TextField',";i:80;s:22:"                    ),";i:81;s:27:"                    array (";i:82;s:41:"                        'type' => 'Text',";i:83;s:79:"                        'value' => '<column-placeholder></column-placeholder>',";i:84;s:22:"                    ),";i:85;s:18:"                ),";i:86;s:36:"                'column3' => array (";i:87;s:27:"                    array (";i:88;s:49:"                        'label' => 'Field Width',";i:89;s:47:"                        'name' => 'fieldWidth',";i:90;s:47:"                        'layout' => 'Vertical',";i:91;s:45:"                        'labelWidth' => '12',";i:92;s:45:"                        'fieldWidth' => '11',";i:93;s:44:"                        'options' => array (";i:94;s:62:"                            'ng-model' => 'active.fieldWidth',";i:95;s:52:"                            'ng-change' => 'save()',";i:96;s:46:"                            'ng-delay' => 500,";i:97;s:26:"                        ),";i:98;s:46:"                        'type' => 'TextField',";i:99;s:22:"                    ),";i:100;s:27:"                    array (";i:101;s:41:"                        'type' => 'Text',";i:102;s:79:"                        'value' => '<column-placeholder></column-placeholder>',";i:103;s:22:"                    ),";i:104;s:18:"                ),";i:105;s:30:"                'w1' => '25%',";i:106;s:30:"                'w2' => '25%',";i:107;s:30:"                'w3' => '25%',";i:108;s:30:"                'w4' => '25%',";i:109;s:40:"                'type' => 'ColumnField',";i:110;s:14:"            ),";i:111;s:19:"            array (";i:112;s:33:"                'type' => 'Text',";i:113;s:35:"                'value' => '<hr/>',";i:114;s:14:"            ),";i:115;s:19:"            array (";i:116;s:40:"                'label' => 'Searchable',";i:117;s:39:"                'name' => 'searchable',";i:118;s:36:"                'options' => array (";i:119;s:54:"                    'ng-model' => 'active.searchable',";i:120;s:44:"                    'ng-change' => 'save()',";i:121;s:18:"                ),";i:122;s:54:"                'listExpr' => 'array(\'Yes\',\'No\')',";i:123;s:36:"                'labelWidth' => '6',";i:124;s:36:"                'fieldWidth' => '4',";i:125;s:41:"                'type' => 'DropDownList',";i:126;s:14:"            ),";i:127;s:19:"            array (";i:128;s:49:"                'label' => 'Show \'Other\' Item',";i:129;s:38:"                'name' => 'showOther',";i:130;s:36:"                'options' => array (";i:131;s:53:"                    'ng-model' => 'active.showOther',";i:132;s:44:"                    'ng-change' => 'save()',";i:133;s:18:"                ),";i:134;s:54:"                'listExpr' => 'array(\'Yes\',\'No\')',";i:135;s:36:"                'labelWidth' => '6',";i:136;s:36:"                'fieldWidth' => '4',";i:137;s:41:"                'type' => 'DropDownList',";i:138;s:14:"            ),";i:139;s:19:"            array (";i:140;s:50:"                'label' => '\'Other\' Item Label',";i:141;s:39:"                'name' => 'otherLabel',";i:142;s:36:"                'labelWidth' => '6',";i:143;s:36:"                'fieldWidth' => '6',";i:144;s:36:"                'options' => array (";i:145;s:54:"                    'ng-model' => 'active.otherLabel',";i:146;s:44:"                    'ng-change' => 'save()',";i:147;s:40:"                    'ng-delay' => '500',";i:148;s:61:"                    'ng-if' => 'active.showOther == \'Yes\'',";i:149;s:18:"                ),";i:150;s:38:"                'type' => 'TextField',";i:151;s:14:"            ),";i:152;s:19:"            array (";i:153;s:33:"                'type' => 'Text',";i:154;s:35:"                'value' => '<hr/>',";i:155;s:14:"            ),";i:156;s:19:"            array (";i:157;s:43:"                'label' => 'Default Value',";i:158;s:40:"                'name' => 'defaultType',";i:159;s:36:"                'options' => array (";i:160;s:55:"                    'ng-model' => 'active.defaultType',";i:161;s:44:"                    'ng-change' => 'save()',";i:162;s:18:"                ),";i:163;s:42:"                'menuPos' => 'pull-right',";i:164;s:83:"                'listExpr' => '[\'\'=>\'-- None --\',\'first\' => \'First Item\']',";i:165;s:36:"                'labelWidth' => '6',";i:166;s:36:"                'fieldWidth' => '6',";i:167;s:41:"                'type' => 'DropDownList',";i:168;s:14:"            ),";i:169;s:19:"            array (";i:170;s:33:"                'type' => 'Text',";i:171;s:35:"                'value' => '<hr/>',";i:172;s:14:"            ),";i:173;s:19:"            array (";i:174;s:43:"                'label' => 'DropDown Item',";i:175;s:33:"                'name' => 'list',";i:176;s:33:"                'show' => 'Show',";i:177;s:36:"                'options' => array (";i:178;s:144:"                    'ng-hide' => '(typeof(active.listExpr) != \'undefined\' && active.listExpr != \'\') || active.options[\'ps-list\'] != null',";i:179;s:18:"                ),";i:180;s:41:"                'allowEmptyKey' => 'Yes',";i:181;s:43:"                'allowSpaceOnKey' => 'Yes',";i:182;s:41:"                'type' => 'KeyValueGrid',";i:183;s:14:"            ),";i:184;s:19:"            array (";i:185;s:45:"                'label' => 'List Expression',";i:186;s:42:"                'fieldname' => 'listExpr',";i:187;s:36:"                'options' => array (";i:188;s:71:"                    'ng-hide' => 'active.options[\'ps-list\'] != null',";i:189;s:65:"                    'ps-valid' => 'active.list = result;save();',";i:190;s:18:"                ),";i:191;s:148:"                'desc' => '<i class=\'fa fa-warning\'></i> WARNING: Using List Expression will replace <i>DropDown Item</i> with expression result',";i:192;s:44:"                'type' => 'ExpressionField',";i:193;s:14:"            ),";i:194;s:19:"            array (";i:195;s:37:"                'label' => 'Options',";i:196;s:36:"                'name' => 'options',";i:197;s:41:"                'type' => 'KeyValueGrid',";i:198;s:14:"            ),";i:199;s:19:"            array (";i:200;s:43:"                'label' => 'Label Options',";i:201;s:41:"                'name' => 'labelOptions',";i:202;s:41:"                'type' => 'KeyValueGrid',";i:203;s:14:"            ),";i:204;s:19:"            array (";i:205;s:43:"                'label' => 'Field Options',";i:206;s:41:"                'name' => 'fieldOptions',";i:207;s:41:"                'type' => 'KeyValueGrid',";i:208;s:14:"            ),";i:209;s:10:"        );";i:210;s:5:"    }";i:211;s:0:"";i:212;s:29:"    /** @var string $label */";i:213;s:23:"    public $label = '';";i:214;s:0:"";i:215;s:28:"    /** @var string $name */";i:216;s:22:"    public $name = '';";i:217;s:0:"";i:218;s:61:"    /** @var string $value digunakan pada function checked */";i:219;s:23:"    public $value = '';";i:220;s:0:"";i:221;s:30:"    /** @var array $options */";i:222;s:25:"    public $options = [];";i:223;s:25:"    public $menuPos = '';";i:224;s:30:"    public $defaultType  = '';";i:225;s:30:"    public $defaultValue = '';";i:226;s:0:"";i:227;s:35:"    /** @var array $fieldOptions */";i:228;s:30:"    public $fieldOptions = [];";i:229;s:0:"";i:230;s:35:"    /** @var array $labelOptions */";i:231;s:30:"    public $labelOptions = [];";i:232;s:0:"";i:233;s:28:"    /** @var string $list */";i:234;s:22:"    public $list = '';";i:235;s:0:"";i:236;s:68:"    /** @var string $listExpr digunakan pada function processExpr */";i:237;s:26:"    public $listExpr = '';";i:238;s:0:"";i:239;s:30:"    /** @var string $layout */";i:240;s:34:"    public $layout = 'Horizontal';";i:241;s:0:"";i:242;s:35:"    /** @var integer $labelWidth */";i:243;s:27:"    public $labelWidth = 4;";i:244;s:0:"";i:245;s:35:"    /** @var integer $fieldWidth */";i:246;s:27:"    public $fieldWidth = 8;";i:247;s:0:"";i:248;s:34:"    /** @var string $searchable */";i:249;s:30:"    public $searchable = 'No';";i:250;s:0:"";i:251;s:33:"    /** @var string $showOther */";i:252;s:29:"    public $showOther = 'No';";i:253;s:0:"";i:254;s:34:"    /** @var string $otherLabel */";i:255;s:35:"    public $otherLabel = 'Lainnya';";i:256;s:0:"";i:257;s:35:"    /** @var string $toolbarName */";i:258;s:50:"    public static $toolbarName = "Drop Down List";";i:259;s:0:"";i:260;s:32:"    /** @var string $category */";i:261;s:47:"    public static $category = "User Interface";";i:262;s:0:"";i:263;s:35:"    /** @var string $toolbarIcon */";i:264;s:61:"    public static $toolbarIcon = "fa fa-caret-square-o-down";";i:265;s:0:"";i:266;s:7:"    /**";i:267;s:63:"     * @return array me-return array javascript yang di-include";i:268;s:7:"     */";i:269;s:33:"    public function includeJS() {";i:270;s:37:"        return ['drop-down-list.js'];";i:271;s:5:"    }";i:272;s:0:"";i:273;s:7:"    /**";i:274;s:61:"     * @return array me-return array hasil proses expression.";i:275;s:7:"     */";i:276;s:35:"    public function processExpr() {";i:277;s:8:"        ";i:278;s:36:"        if ($this->listExpr != "") {";i:279;s:39:"            if (FormField::$inEditor) {";i:280;s:33:"                $this->list = '';";i:281;s:38:"                return ['list' => ''];";i:282;s:13:"            }";i:283;s:8:"        ";i:284;s:34:"            ## evaluate expression";i:285;s:65:"            $this->list = $this->evaluate($this->listExpr, true);";i:286;s:0:"";i:287;s:74:"            if (is_array($this->list) && !Helper::is_assoc($this->list)) {";i:288;s:48:"                if (!is_array($this->list[0])) {";i:289;s:63:"                    $this->list = Helper::toAssoc($this->list);";i:290;s:17:"                }";i:291;s:13:"            }";i:292;s:10:"        } ";i:293;s:8:"        ";i:294;s:16:"        return [";i:295;s:33:"            'list' => $this->list";i:296;s:10:"        ];";i:297;s:5:"    }";i:298;s:0:"";i:299;s:7:"    /**";i:300;s:14:"     * checked";i:301;s:49:"     * Fungsi ini untuk mengecek value dari field";i:302;s:27:"     * @param string $value";i:303;s:48:"     * @return boolean me-return true atau false";i:304;s:7:"     */";i:305;s:37:"    public function checked($value) {";i:306;s:35:"        if ($this->value == $value)";i:307;s:24:"            return true;";i:308;s:12:"        else";i:309;s:25:"            return false;";i:310;s:5:"    }";i:311;s:0:"";i:312;s:7:"    /**";i:313;s:21:"     * getLayoutClass";i:314;s:89:"     * Fungsi ini akan mengecek nilai property $layout untuk menentukan nama Class Layout";i:315;s:66:"     * @return string me-return string Class layout yang digunakan";i:316;s:7:"     */";i:317;s:38:"    public function getLayoutClass() {";i:318;s:68:"        return ($this->layout == 'Vertical' ? 'form-vertical' : '');";i:319;s:5:"    }";i:320;s:0:"";i:321;s:7:"    /**";i:322;s:103:"     * @return string me-return string Class error jika terdapat error pada satu atau banyak attribute.";i:323;s:7:"     */";i:324;s:37:"    public function getErrorClass() {";i:325;s:74:"        return (count($this->errors) > 0 ? 'has-error has-feedback' : '');";i:326;s:5:"    }";i:327;s:0:"";i:328;s:7:"    /**";i:329;s:20:"     * getlabelClass";i:330;s:78:"     * Fungsi ini akan mengecek $layout untuk menentukan layout yang digunakan";i:331;s:58:"     * dan meload option label dari property $labelOptions";i:332;s:50:"     * @return string me-return string Class label";i:333;s:7:"     */";i:334;s:37:"    public function getlabelClass() {";i:335;s:42:"        if ($this->layout == 'Vertical') {";i:336;s:47:"            $class = "control-label col-sm-12";";i:337;s:16:"        } else {";i:338;s:64:"            $class = "control-label col-sm-{$this->labelWidth}";";i:339;s:9:"        }";i:340;s:0:"";i:341;s:48:"        $class .= @$this->labelOptions['class'];";i:342;s:22:"        return $class;";i:343;s:5:"    }";i:344;s:0:"";i:345;s:7:"    /**";i:346;s:23:"     * getFieldColClass";i:347;s:45:"     * Fungsi ini untuk menetukan width field";i:348;s:44:"     * @return string me-return string class";i:349;s:7:"     */";i:350;s:40:"    public function getFieldColClass() {";i:351;s:45:"        return "col-sm-" . $this->fieldWidth;";i:352;s:5:"    }";i:353;s:0:"";i:354;s:7:"    /**";i:355;s:44:"     * @return string me-return string class";i:356;s:7:"     */";i:357;s:37:"    public function getFieldClass() {";i:358;s:37:"        return "btn-group btn-block";";i:359;s:5:"    }";i:360;s:0:"";i:361;s:7:"    /**";i:362;s:13:"     * render";i:363;s:54:"     * Fungsi ini untuk me-render field dan atributnya";i:364;s:74:"     * @return mixed me-return sebuah field DropDownList dari hasil render";i:365;s:7:"     */";i:366;s:30:"    public function render() {";i:367;s:63:"        $this->addClass('form-group form-group-sm', 'options');";i:368;s:55:"        $this->addClass($this->layoutClass, 'options');";i:369;s:54:"        $this->addClass($this->errorClass, 'options');";i:370;s:0:"";i:371;s:99:"        $this->addClass('btn dropdown-toggle btn-sm btn-block btn-dropdown-field', 'fieldOptions');";i:372;s:96:"        $btn_class = ['btn-primary', 'btn-default', 'btn-success', 'btn-danger', 'btn-warning'];";i:373;s:66:"        if (!in_array($this->fieldOptions['class'], $btn_class)) {";i:374;s:59:"            $this->addClass('btn-default', 'fieldOptions');";i:375;s:9:"        }";i:376;s:0:"";i:377;s:94:"        $this->setDefaultOption('ng-model', "model['{$this->originalName}']", $this->options);";i:378;s:0:"";i:379;s:29:"        $this->processExpr();";i:380;s:60:"        return $this->renderInternal('template_render.php');";i:381;s:5:"    }";i:382;s:0:"";i:383;s:34:"    public function isDisabled() {";i:384;s:56:"        if (isset($this->fieldOptions['ng-disabled'])) {";i:385;s:54:"            return $this->fieldOptions['ng-disabled'];";i:386;s:9:"        }";i:387;s:53:"        if (isset($this->fieldOptions['disabled'])) {";i:388;s:26:"            return "true";";i:389;s:9:"        }";i:390;s:5:"    }";i:391;s:1:"}";}s:7:"methods";a:11:{s:18:"getFieldProperties";a:2:{s:4:"line";i:11;s:6:"length";i:200;}s:9:"includeJS";a:2:{s:4:"line";i:269;s:6:"length";i:3;}s:11:"processExpr";a:2:{s:4:"line";i:276;s:6:"length";i:22;}s:7:"checked";a:2:{s:4:"line";i:305;s:6:"length";i:6;}s:14:"getLayoutClass";a:2:{s:4:"line";i:317;s:6:"length";i:3;}s:13:"getErrorClass";a:2:{s:4:"line";i:324;s:6:"length";i:3;}s:13:"getlabelClass";a:2:{s:4:"line";i:334;s:6:"length";i:10;}s:16:"getFieldColClass";a:2:{s:4:"line";i:350;s:6:"length";i:3;}s:13:"getFieldClass";a:2:{s:4:"line";i:357;s:6:"length";i:3;}s:6:"render";a:2:{s:4:"line";i:366;s:6:"length";i:16;}s:10:"isDisabled";a:2:{s:4:"line";i:383;s:6:"length";i:8;}}}i:1;N;}